{"version":3,"sources":["utils/dpos.js","../node_modules/bech32/index.js","components/candidate/delegate-form.js","components/candidate/withdraw-form.js","components/candidate/commission-form.js","components/candidate/sidechain-info.js","components/candidate/slash-table.js","routes/candidate.js"],"names":["CANDIDATE_STATUS","PARAM_NAMES","PROPOSAL_STATUS","Voting","Closed","VOTE_TYPE","Yes","No","Abstain","ALPHABET","ALPHABET_MAP","z","length","x","charAt","undefined","TypeError","polymodStep","pre","b","prefixChk","prefix","chk","i","c","charCodeAt","v","__decode","str","LIMIT","lowered","toLowerCase","uppered","toUpperCase","split","lastIndexOf","slice","wordChars","words","push","convert","data","inBits","outBits","pad","value","bits","maxV","result","module","exports","decodeUnsafe","res","apply","arguments","decode","Error","encode","toWordsUnsafe","bytes","Array","isArray","toWords","fromWordsUnsafe","fromWords","DelegateForm","React","Component","constructor","props","context","super","onSubmit","this","onClose","candidateId","form","current","validateFields","err","values","contracts","DPoS","methods","delegate","cacheSend","web3","utils","toWei","toString","createRef","drizzle","render","visible","formItems","name","field","fieldOptions","celrFieldOptions","placeholder","rules","message","required","title","onOk","onCancel","ref","items","contextTypes","PropTypes","object","WithdrawForm","candidate","candidateAddr","args","status","withdrawFromUnbondedCandidate","intendWithdraw","CommissionForm","handleIncreaseCommission","network","console","log","commissionRate","rateLockEndTime","RATE_BASE","_","toNumber","block","number","announceIncreaseCommissionRate","nonIncreaseCommissionRate","state","commissionRateField","rateLockEndTimeField","drizzleConnect","columns","dataIndex","sorter","a","toBN","delegatedStake","cmp","sortOrder","text","formatCelrValue","SidechainInfo","setting","axios","get","gateway","then","setState","commission_rate","stakingPool","staking_pool","catch","error","response","warning","delegators","map","delegator","candidate_addr","delegated_stake","delegatorAddr","delegator_addr","description","span","website","security_contact","dataSource","pagination","SlashTable","slashes","sort","slash0","slash1","validator","slash","amount","Candidate","toggleDelegateModal","prevState","isDelegateModalVisible","toggleWithdrawModal","isWithdrawModalVisible","toggleCommissionModal","isCommissionModalVisible","confirmWithdraw","confirmIncreaseCommissionRate","claimValidator","renderAction","accounts","isOwner","menu","Item","onClick","overlay","className","type","renderCandidateDetail","SGN","minSelfStake","sidechainHexAddr","chain","sidechainAddrMap","find","sidechainAddr","bech32","hexToBytes","style","marginTop","TabPane","tab","key","match","params","id","cacheCall","events","Slash","fromBlock","filter","event","returnValues","candidates","getCandidateInfo","getDelegatorInfo","extra"],"mappings":"oHAAA,wIAAO,IAAMA,EAAmB,CAAC,WAAY,SAAU,aAE1CC,EAAc,CACvB,kBACA,oBACA,eACA,kBACA,kBACA,iBACA,uBAGSC,EAAkB,CAAEC,OAAQ,IAAKC,OAAQ,KAEzCC,EAAY,CACrBC,IAAK,EACLC,GAAI,EACJC,QAAS,I,iCCZb,IAJA,IAAIC,EAAW,mCAGXC,EAAe,GACVC,EAAI,EAAGA,EAAIF,EAASG,OAAQD,IAAK,CACxC,IAAIE,EAAIJ,EAASK,OAAOH,GAExB,QAAwBI,IAApBL,EAAaG,GAAkB,MAAM,IAAIG,UAAUH,EAAI,iBAC3DH,EAAaG,GAAKF,EAGpB,SAASM,EAAaC,GACpB,IAAIC,EAAID,GAAO,GACf,OAAe,SAANA,IAAoB,EACR,YAAfC,GAAK,EAAK,GACK,YAAfA,GAAK,EAAK,GACK,YAAfA,GAAK,EAAK,GACK,aAAfA,GAAK,EAAK,GACK,YAAfA,GAAK,EAAK,GAGlB,SAASC,EAAWC,GAElB,IADA,IAAIC,EAAM,EACDC,EAAI,EAAGA,EAAIF,EAAOT,SAAUW,EAAG,CACtC,IAAIC,EAAIH,EAAOI,WAAWF,GAC1B,GAAIC,EAAI,IAAMA,EAAI,IAAK,MAAO,mBAAqBH,EAAS,IAE5DC,EAAML,EAAYK,GAAQE,GAAK,EAIjC,IAFAF,EAAML,EAAYK,GAEbC,EAAI,EAAGA,EAAIF,EAAOT,SAAUW,EAAG,CAClC,IAAIG,EAAIL,EAAOI,WAAWF,GAC1BD,EAAML,EAAYK,GAAY,GAAJI,EAE5B,OAAOJ,EAmCT,SAASK,EAAUC,EAAKC,GAEtB,GADAA,EAAQA,GAAS,GACbD,EAAIhB,OAAS,EAAG,OAAOgB,EAAM,aACjC,GAAIA,EAAIhB,OAASiB,EAAO,MAAO,uBAG/B,IAAIC,EAAUF,EAAIG,cACdC,EAAUJ,EAAIK,cAClB,GAAIL,IAAQE,GAAWF,IAAQI,EAAS,MAAO,qBAAuBJ,EAGtE,IAAIM,GAFJN,EAAME,GAEUK,YAAY,KAC5B,IAAe,IAAXD,EAAc,MAAO,8BAAgCN,EACzD,GAAc,IAAVM,EAAa,MAAO,sBAAwBN,EAEhD,IAAIP,EAASO,EAAIQ,MAAM,EAAGF,GACtBG,EAAYT,EAAIQ,MAAMF,EAAQ,GAClC,GAAIG,EAAUzB,OAAS,EAAG,MAAO,iBAEjC,IAAIU,EAAMF,EAAUC,GACpB,GAAmB,kBAARC,EAAkB,OAAOA,EAGpC,IADA,IAAIgB,EAAQ,GACHf,EAAI,EAAGA,EAAIc,EAAUzB,SAAUW,EAAG,CACzC,IAAIC,EAAIa,EAAUvB,OAAOS,GACrBG,EAAIhB,EAAac,GACrB,QAAUT,IAANW,EAAiB,MAAO,qBAAuBF,EACnDF,EAAML,EAAYK,GAAOI,EAGrBH,EAAI,GAAKc,EAAUzB,QACvB0B,EAAMC,KAAKb,GAGb,OAAY,IAARJ,EAAkB,wBAA0BM,EACzC,CAAEP,OAAQA,EAAQiB,MAAOA,GAelC,SAASE,EAASC,EAAMC,EAAQC,EAASC,GAMvC,IALA,IAAIC,EAAQ,EACRC,EAAO,EACPC,GAAQ,GAAKJ,GAAW,EAExBK,EAAS,GACJzB,EAAI,EAAGA,EAAIkB,EAAK7B,SAAUW,EAIjC,IAHAsB,EAASA,GAASH,EAAUD,EAAKlB,GACjCuB,GAAQJ,EAEDI,GAAQH,GACbG,GAAQH,EACRK,EAAOT,KAAMM,GAASC,EAAQC,GAIlC,GAAIH,EACEE,EAAO,GACTE,EAAOT,KAAMM,GAAUF,EAAUG,EAASC,OAEvC,CACL,GAAID,GAAQJ,EAAQ,MAAO,iBAC3B,GAAKG,GAAUF,EAAUG,EAASC,EAAM,MAAO,mBAGjD,OAAOC,EA2BTC,EAAOC,QAAU,CACfC,aAjEF,WACE,IAAIC,EAAMzB,EAAS0B,MAAM,KAAMC,WAC/B,GAAmB,kBAARF,EAAkB,OAAOA,GAgEpCG,OA7DF,SAAiB3B,GACf,IAAIwB,EAAMzB,EAAS0B,MAAM,KAAMC,WAC/B,GAAmB,kBAARF,EAAkB,OAAOA,EAEpC,MAAM,IAAII,MAAMJ,IA0DhBK,OAzIF,SAAiBpC,EAAQiB,EAAOT,GAE9B,GADAA,EAAQA,GAAS,GACZR,EAAOT,OAAS,EAAI0B,EAAM1B,OAAUiB,EAAO,MAAM,IAAIb,UAAU,wBAKpE,IAAIM,EAAMF,EAHVC,EAASA,EAAOU,eAIhB,GAAmB,kBAART,EAAkB,MAAM,IAAIkC,MAAMlC,GAG7C,IADA,IAAI0B,EAAS3B,EAAS,IACbE,EAAI,EAAGA,EAAIe,EAAM1B,SAAUW,EAAG,CACrC,IAAIV,EAAIyB,EAAMf,GACd,GAAKV,GAAK,IAAO,EAAG,MAAM,IAAI2C,MAAM,kBAEpClC,EAAML,EAAYK,GAAOT,EACzBmC,GAAUvC,EAASK,OAAOD,GAG5B,IAAKU,EAAI,EAAGA,EAAI,IAAKA,EACnBD,EAAML,EAAYK,GAIpB,IAFAA,GAAO,EAEFC,EAAI,EAAGA,EAAI,IAAKA,EAAG,CAEtByB,GAAUvC,EAASK,OADVQ,GAAkB,GAAT,EAAIC,GAAW,IAInC,OAAOyB,GA6GPU,cA5BF,SAAwBC,GACtB,IAAIP,EAAMZ,EAAQmB,EAAO,EAAG,GAAG,GAC/B,GAAIC,MAAMC,QAAQT,GAAM,OAAOA,GA2B/BU,QAxBF,SAAkBH,GAChB,IAAIP,EAAMZ,EAAQmB,EAAO,EAAG,GAAG,GAC/B,GAAIC,MAAMC,QAAQT,GAAM,OAAOA,EAE/B,MAAM,IAAII,MAAMJ,IAqBhBW,gBAlBF,SAA0BzB,GACxB,IAAIc,EAAMZ,EAAQF,EAAO,EAAG,GAAG,GAC/B,GAAIsB,MAAMC,QAAQT,GAAM,OAAOA,GAiB/BY,UAdF,SAAoB1B,GAClB,IAAIc,EAAMZ,EAAQF,EAAO,EAAG,GAAG,GAC/B,GAAIsB,MAAMC,QAAQT,GAAM,OAAOA,EAE/B,MAAM,IAAII,MAAMJ,M,0PClKlB,MAAMa,UAAqBC,IAAMC,UAC/BC,YAAYC,EAAOC,GACjBC,MAAMF,GADoB,KAO5BG,SAAW,KAAO,IAAD,EACkBC,KAAKJ,MAA9BK,EADO,EACPA,QAASC,EADF,EACEA,YAEjBF,KAAKG,KAAKC,QAAQC,eAAe,CAACC,EAAKC,KACrC,IAAID,EAAJ,CADgD,IAKxClC,EAAUmC,EAAVnC,MAER4B,KAAKQ,UAAUC,KAAKC,QAAQC,SAASC,UACnCV,EACAW,IAAKC,MAAMC,MAAM3C,EAAM4C,WAAY,UAGrCf,QAnBFD,KAAKG,KAAOV,IAAMwB,YAClBjB,KAAKQ,UAAYX,EAAQqB,QAAQV,UAsBnCW,SAAU,IAAD,EACsBnB,KAAKJ,MAA1BwB,EADD,EACCA,QAASnB,EADV,EACUA,QACXoB,EAAY,CAChB,CACEC,KAAM,QACNC,MAAO,SACPC,aAAa,2BACRC,KADO,IAEVC,YAAa,mCAEfC,MAAO,CACL,CACEC,QAAS,wBACTC,UAAU,MAMlB,OACE,kBAAC,IAAD,CACEC,MAAM,iBACNV,QAASA,EACTW,KAAM/B,KAAKD,SACXiC,SAAU/B,GAEV,kBAAC,IAAD,CAAMgC,IAAKjC,KAAKG,KAAM+B,MAAOb,MAWrC7B,EAAa2C,aAAe,CAC1BjB,QAASkB,IAAUC,QAGN7C,QCpEf,MAAM8C,UAAqB7C,IAAMC,UAC7BC,YAAYC,EAAOC,GACfC,MAAMF,GADkB,KAO5BG,SAAW,KAAO,IAAD,EACkBC,KAAKJ,MAA5BK,EADK,EACLA,QAASsC,EADJ,EACIA,UACXC,EAAgBD,EAAUE,KAAK,GAErCzC,KAAKG,KAAKC,QAAQC,eAAe,CAACC,EAAKC,KACnC,IAAID,EAAJ,CAD8C,IAKtClC,EAAUmC,EAAVnC,MAEuB,MAA3BmE,EAAUnE,MAAMsE,OAChB1C,KAAKQ,UAAUC,KAAKC,QAAQiC,8BAA8B/B,UACtD4B,EACA3B,IAAKC,MAAMC,MAAM3C,EAAM4C,WAAY,UAGvChB,KAAKQ,UAAUC,KAAKC,QAAQkC,eAAehC,UACvC4B,EACA3B,IAAKC,MAAMC,MAAM3C,EAAM4C,WAAY,UAI3Cf,QA3BJD,KAAKG,KAAOV,IAAMwB,YAClBjB,KAAKQ,UAAYX,EAAQqB,QAAQV,UA8BrCW,SAAU,IAAD,EACwBnB,KAAKJ,MAA1BwB,EADH,EACGA,QAASnB,EADZ,EACYA,QACXoB,EAAY,CACd,CACIC,KAAM,QACNC,MAAO,SACPC,aAAa,2BACNC,KADK,IAERC,YAAa,mCAEjBC,MAAO,CACH,CACIC,QAAS,wBACTC,UAAU,MAM1B,OACI,kBAAC,IAAD,CACIC,MAAM,iBACNV,QAASA,EACTW,KAAM/B,KAAKD,SACXiC,SAAU/B,GAEV,kBAAC,IAAD,CAAMgC,IAAKjC,KAAKG,KAAM+B,MAAOb,MAW7CiB,EAAaH,aAAe,CACxBjB,QAASkB,IAAUC,QAGRC,Q,SC1Ef,MAAMO,UAAuBpD,IAAMC,UAC/BC,YAAYC,EAAOC,GACfC,MAAMF,GADkB,KAQ5BkD,yBAA2B,KAAO,IAAD,EACW9C,KAAKJ,MAArCK,EADqB,EACrBA,QAAS8C,EADY,EACZA,QAASR,EADG,EACHA,UAE1BvC,KAAKG,KAAKC,QAAQC,eAAe,CAACC,EAAKC,KACnC,GAAID,EACA0C,QAAQC,IAAI3C,OADhB,CAD8C,IAMxC4C,EAAoC3C,EAApC2C,eAAgBC,EAAoB5C,EAApB4C,gBACtBD,GAAkCE,IAClCD,EACIE,IAAEC,SAASH,GAAmBJ,EAAQQ,MAAMC,OAE5CN,EAAiBX,EAAUnE,MAAM8E,eACjClD,KAAKQ,UAAUC,KAAKC,QAAQ+C,+BAA+B7C,UACvDsC,EACAC,GAGJnD,KAAKQ,UAAUC,KAAKC,QAAQgD,0BAA0B9C,UAClDsC,EACAC,GAGRlD,QA9BJD,KAAK2D,MAAQ,GACb3D,KAAKG,KAAOV,IAAMwB,YAClBjB,KAAKQ,UAAYX,EAAQqB,QAAQV,UAgCrCW,SAAU,IAAD,EACwBnB,KAAKJ,MAA1BwB,EADH,EACGA,QAASnB,EADZ,EACYA,QAEXoB,EAAY,CAACuC,IAAqBC,KAExC,OACI,kBAAC,IAAD,CACI/B,MAAM,2BACNV,QAASA,EACTW,KAAM/B,KAAK8C,yBACXd,SAAU/B,GAEV,kBAAC,IAAD,CAAMgC,IAAKjC,KAAKG,KAAM+B,MAAOb,MAW7CwB,EAAeV,aAAe,CAC1BjB,QAASkB,IAAUC,QAWRyB,+BAAejB,GAR9B,SAAyBc,GAGrB,MAAO,CACHZ,QAHgBY,EAAZZ,Y,6CCnENgB,EAAU,CACd,CACEjC,MAAO,YACPkC,UAAW,iBAEb,CACElC,MAAO,kBACPkC,UAAW,iBACXC,OAAQ,CAACC,EAAGxH,IACHmE,IAAKC,MAAMqD,KAAKD,EAAEE,gBAAgBC,IAAIxD,IAAKC,MAAMqD,KAAKzH,EAAE0H,iBAEjEE,UAAW,UACXnD,OAAQoD,GACCC,YAAgBD,KAK7B,MAAME,UAAsBhF,IAAMC,UAChCC,YAAYC,EAAOC,GACjBC,MAAMF,GADoB,IAIxBM,EAEEN,EAFFM,YACWwE,EACT9E,EADFmD,QAAW2B,QAEb1E,KAAK2D,MAAQ,GAEbgB,IACGC,IADH,UACUF,EAAQG,QADlB,gCACiD3E,IAC9C4E,KAAKnG,IAAQ,IACJJ,EAAWI,EAAIX,KAAfO,OAERyB,KAAK+E,SAAL,2BACKxG,GADL,IAEE2E,eAAgB3E,EAAOyG,gBACvBC,YAAa1G,EAAO2G,kBAGvBC,MAAM7E,IACL0C,QAAQoC,MAAM9E,GAEVA,EAAI+E,SACNzD,IAAQwD,MAAM9E,EAAI+E,SAASrH,KAAKoH,OAIlCxD,IAAQ0D,QAAQ,2EAGpBX,IACGC,IADH,UACUF,EAAQG,QADlB,2CAC4D3E,IACzD4E,KAAKnG,IACJ,IAAM4G,EAAa5G,EAAIX,KAAKO,OAAOiH,IAAIC,IAAS,CAC9CjD,cAAeiD,EAAUC,eACzBtB,eAAgBqB,EAAUE,gBAC1BC,cAAeH,EAAUI,kBAE3B7F,KAAK+E,SAAS,CACZQ,iBAGHJ,MAAM7E,IACL0C,QAAQoC,MAAM9E,GAEVA,EAAI+E,SACNzD,IAAQwD,MAAM9E,EAAI+E,SAASrH,KAAKoH,OAIlCxD,IAAQ0D,QAAQ,2EAItBnE,SAAU,IAAD,EAC+DnB,KAAK2D,MAAnET,EADD,EACCA,eAAgB+B,EADjB,EACiBA,YAAaM,EAD9B,EAC8BA,WAD9B,IAC0CO,mBAD1C,MACwD,GADxD,EAEP,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,KAAM,IACT,kBAAC,IAAD,CAAWjE,MAAM,kBAAkB1D,MAAK,UAAsB,IAAjB8E,EAAL,SAE1C,kBAAC,IAAD,CAAK6C,KAAM,IACT,kBAAC,IAAD,CAAWjE,MAAM,eAAe1D,MAAOoG,YAAgBS,MAEzD,kBAAC,IAAD,CAAKc,KAAM,IACT,kBAAC,IAAD,CAAWjE,MAAM,UAAU1D,MAAO0H,EAAYE,SAAW,SAE3D,kBAAC,IAAD,CAAKD,KAAM,IACT,kBAAC,IAAD,CAAWjE,MAAM,UAAU1D,MAAO0H,EAAYG,kBAAoB,SAGpE,kBAAC,IAAD,CAAKF,KAAM,IACT,kBAAC,IAAD,CAAOG,WAAYX,EAAYxB,QAASA,EAASoC,YAAY,OASvE1B,EAActC,aAAe,CAC3BjB,QAASkB,IAAUC,QAWNyB,+BAAeW,GAR9B,SAAyBd,GAGvB,MAAO,CACLZ,QAHkBY,EAAZZ,YC5GJgB,EAAU,CACZ,CACIjC,MAAO,YACPkC,UAAW,aAEf,CACIlC,MAAO,SACPkC,UAAW,WAInB,MAAMoC,UAAmB3G,IAAMC,UAC3ByB,SAAU,IACEkF,EAAYrG,KAAKJ,MAAjByG,QAEFH,EAAaG,EACdC,KAAK,CAACC,EAAQC,IACJD,EAAOE,UAAYD,EAAOC,WAEpCjB,IAAIkB,GAAK,2BACHA,GADG,IAENC,OAAQnC,YAAgBkC,EAAMC,WAItC,OADA3D,QAAQC,IAAIoD,GAER,kBAAC,IAAD,CACIH,WAAYA,EACZnC,QAASA,EACToC,YAAY,KAcbrC,+BAAesC,GAJ9B,SAAyBzC,GACrB,MAAO,M,SCpBX,MAAMiD,UAAkBnH,IAAMC,UAC5BC,YAAYC,EAAOC,GACjBC,MAAMF,GADoB,KAgE5BiH,oBAAsB,KACpB7G,KAAK+E,SAAS+B,IAAS,CACrBC,wBAAyBD,EAAUC,2BAlEX,KAsE5BC,oBAAsB,KACpBhH,KAAK+E,SAAS+B,IAAS,CACrBG,wBAAyBH,EAAUG,2BAxEX,KA4E5BC,sBAAwB,KACtBlH,KAAK+E,SAAS+B,IAAS,CACrBK,0BAA2BL,EAAUK,6BA9Eb,KAkF5BC,gBAAkB,KAAO,IACflH,EAAgBF,KAAK2D,MAArBzD,YAERF,KAAKQ,UAAUC,KAAKC,QAAQ0G,gBAAgBxG,UAAUV,IArF5B,KAwF5BmH,8BAAgC,KAC9BrH,KAAKQ,UAAUC,KAAKC,QAAQ2G,8BAA8BzG,aAzFhC,KA4F5B0G,eAAiB,KACftH,KAAKQ,UAAUC,KAAKC,QAAQ4G,eAAe1G,aA7FjB,KAgG5B2G,aAAe,KAAO,IACZC,EAAaxH,KAAKJ,MAAlB4H,SACAjF,EAAcvC,KAAK2D,MAAnBpB,UACAG,EAAWH,EAAUnE,MAArBsE,OACF+E,EAAUD,EAAS,KAAOjF,EAAUE,KAAK,GACzCiF,EACJ,kBAAC,IAAD,KACE,kBAAC,IAAKC,KAAN,CAAWC,QAAS5H,KAAK6G,qBAAzB,YACY,MAAXnE,EACC,kBAAC,IAAKiF,KAAN,CAAWC,QAAS5H,KAAKgH,qBAAzB,YAEA,CACE,kBAAC,IAAKW,KAAN,CAAWC,QAAS5H,KAAKgH,qBAAzB,uBAGA,kBAAC,IAAKW,KAAN,CAAWC,QAAS5H,KAAKoH,iBAAzB,qBAKHK,GACC,kBAAC,IAAKE,KAAN,CAAWC,QAAS5H,KAAKkH,uBAAzB,qCAIDO,GACC,kBAAC,IAAKE,KAAN,CAAWC,QAAS5H,KAAKqH,+BAAzB,oCAIDI,GACC,kBAAC,IAAKE,KAAN,CAAWC,QAAS5H,KAAKsH,gBAAzB,oBAKN,OACE,kBAAC,IAAD,CAAUO,QAASH,GACjB,uBAAGI,UAAU,qBAAb,WACU,kBAAC,IAAD,CAAMC,KAAK,YAvIC,KA6I5BC,sBAAwB,KAAO,IACrBC,EAAQjI,KAAKJ,MAAbqI,IADoB,EAEGjI,KAAK2D,MAA5BpB,EAFoB,EAEpBA,UAAW8D,EAFS,EAETA,QACbnG,EAAcqC,EAAUE,KAAK,GAHP,EAUxBF,EAAUnE,MALZ8J,EAL0B,EAK1BA,aACAjD,EAN0B,EAM1BA,YACAvC,EAP0B,EAO1BA,OACAQ,EAR0B,EAQ1BA,eACAC,EAT0B,EAS1BA,gBAEIgF,EAAmB9E,IAAE+E,MAAMH,EAAII,kBAClCC,KAAKtK,GAAQA,EAAKyE,KAAK,KAAOvC,GAC9B0E,IAAI,QAAS,IACbxG,QACGmK,EACJJ,GACAK,IAAOxJ,OACL,MACAwJ,IAAOnJ,QAAQwB,IAAKC,MAAM2H,WAAWN,KAGzC,OACE,kBAAC,IAAD,CAAKO,MAAO,CAAEC,UAAW,SACvB,kBAAC,IAAD,CAAK5C,KAAM,IACT,kBAAC,IAAD,CAAWjE,MAAM,UAAU1D,MAAO8B,KAEpC,kBAAC,IAAD,CAAK6F,KAAM,IACT,kBAAC,IAAD,CAAWjE,MAAM,SAAS1D,MAAO7C,IAAiBmH,MAEpD,kBAAC,IAAD,CAAKqD,KAAM,IACT,kBAAC,IAAD,CACEjE,MAAM,iBACN1D,MAAOoG,YAAgB0D,MAG3B,kBAAC,IAAD,CAAKnC,KAAM,IACT,kBAAC,IAAD,CACEjE,MAAM,eACN1D,MAAOoG,YAAgBS,MAG3B,kBAAC,IAAD,CAAKc,KAAM,IACT,kBAAC,IAAD,CACEjE,MAAM,kBACN1D,MAAK,UAAK8E,EAAiBE,IAAtB,SAGT,kBAAC,IAAD,CAAK2C,KAAM,IACT,kBAAC,IAAD,CACEjE,MAAM,qBACN1D,MAAK,UAAK+E,EAAL,oBAGT,kBAAC,IAAD,CAAK4C,KAAM,IACT,kBAAC,IAAD,CAAWjE,MAAM,oBAAoB1D,MAAOmK,KAE9C,kBAAC,IAAD,CAAKxC,KAAM,IACT,kBAAC,IAAD,KACE,kBAAC,IAAK6C,QAAN,CAAcC,IAAI,YAAYC,IAAI,aAChC,kBAAC,EAAD,CAAe5I,YAAaA,KAE9B,kBAAC,IAAK0I,QAAN,CAAcC,IAAI,UAAUC,IAAI,WAC9B,kBAAC,EAAD,CAAYzC,QAASA,SAzM/BrG,KAAKQ,UAAYX,EAAQqB,QAAQV,UACjCR,KAAK2D,MAAQ,CACXpB,UAAW,KACX8D,QAAS,GACTU,wBAAwB,EACxBE,wBAAwB,EACxBE,0BAA0B,GAG5B,IAAMjH,EAAcN,EAAMmJ,MAAMC,OAAOC,GACvCjJ,KAAKQ,UAAUyH,IAAIvH,QAAQ2H,iBAAiBa,UAAUhJ,GAmBtDF,KAAKQ,UAAUC,KAAK0I,OAAOC,MACzB,CACEC,UAAW,EACXC,OAAQ,CAAE7C,UAAWvG,IAEvB,CAACI,EAAKiJ,KACAjJ,GAIJN,KAAK+E,SAAS,CACZsB,QAAS,IAAIrG,KAAK2D,MAAM0C,QAASkD,EAAMC,kBAM/C,gCAAgC5J,GAAQ,IAC9BmJ,EAAqBnJ,EAArBmJ,MAD6B,EACRnJ,EAAda,YADsB,MACf,GADe,EAE/BP,EAAc6I,EAAMC,OAAOC,GAC3BQ,EAAapG,IAAE9C,OAAOE,EAAKiJ,kBAC3BnH,EAAYc,IAAEiF,KAClBmB,EACAlH,GAAaA,EAAUE,KAAK,KAAOvC,GAE/BqF,EAAalC,IAAE9C,OAAOE,EAAKkJ,kBAAkBL,OACjD7D,GAAaA,EAAUhD,KAAK,KAAOvC,GAGrC,MAAO,CAAEqC,YAAWrC,cAAaqF,cAuJnCpE,SAAU,IAAD,EAOHnB,KAAK2D,MALPpB,EAFK,EAELA,UACArC,EAHK,EAGLA,YACA6G,EAJK,EAILA,uBACAE,EALK,EAKLA,uBACAE,EANK,EAMLA,yBAGF,OAAK5E,EAKH,kBAAC,IAAD,CAAMT,MAAM,YAAY8H,MAAO5J,KAAKuH,gBACjCvH,KAAKgI,wBACN,kBAAC,EAAD,CACE9H,YAAaA,EACbkB,QAAS2F,EACT9G,QAASD,KAAK6G,sBAEhB,kBAAC,EAAD,CACEtE,UAAWA,EACXnB,QAAS6F,EACThH,QAASD,KAAKgH,sBAEhB,kBAAC,EAAD,CACEzE,UAAWA,EACXnB,QAAS+F,EACTlH,QAASD,KAAKkH,yBAnBX,kBAAC,IAAD,OA8BbN,EAAUzE,aAAe,CACvBjB,QAASkB,IAAUC,QAYNyB,mCAAe8C,GAT9B,SAAyBjD,GAAQ,IACvB6D,EAAmC7D,EAAnC6D,SAAUhH,EAAyBmD,EAAzBnD,UAAWC,EAAckD,EAAdlD,KAAMwH,EAAQtE,EAARsE,IACnC,MAAO,CACLT,WACA/G,KAAK,2BAAMA,GAASD,EAAUC,MAC9BwH,IAAI,2BAAMA,GAAQzH,EAAUyH","file":"static/js/6.119cedbf.chunk.js","sourcesContent":["export const CANDIDATE_STATUS = ['Unbonded', 'Bonded', 'Unbonding'];\n\nexport const PARAM_NAMES = [\n    'ProposalDeposit',\n    'GovernVoteTimeout',\n    'SlashTimeout',\n    'MinValidatorNum',\n    'MaxValidatorNum',\n    'MinStakeInPool',\n    'AdvanceNoticePeriod'\n];\n\nexport const PROPOSAL_STATUS = { Voting: '1', Closed: '2' };\n\nexport const VOTE_TYPE = {\n    Yes: 1,\n    No: 2,\n    Abstain: 3\n};\n","'use strict'\nvar ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l'\n\n// pre-compute lookup table\nvar ALPHABET_MAP = {}\nfor (var z = 0; z < ALPHABET.length; z++) {\n  var x = ALPHABET.charAt(z)\n\n  if (ALPHABET_MAP[x] !== undefined) throw new TypeError(x + ' is ambiguous')\n  ALPHABET_MAP[x] = z\n}\n\nfunction polymodStep (pre) {\n  var b = pre >> 25\n  return ((pre & 0x1FFFFFF) << 5) ^\n    (-((b >> 0) & 1) & 0x3b6a57b2) ^\n    (-((b >> 1) & 1) & 0x26508e6d) ^\n    (-((b >> 2) & 1) & 0x1ea119fa) ^\n    (-((b >> 3) & 1) & 0x3d4233dd) ^\n    (-((b >> 4) & 1) & 0x2a1462b3)\n}\n\nfunction prefixChk (prefix) {\n  var chk = 1\n  for (var i = 0; i < prefix.length; ++i) {\n    var c = prefix.charCodeAt(i)\n    if (c < 33 || c > 126) return 'Invalid prefix (' + prefix + ')'\n\n    chk = polymodStep(chk) ^ (c >> 5)\n  }\n  chk = polymodStep(chk)\n\n  for (i = 0; i < prefix.length; ++i) {\n    var v = prefix.charCodeAt(i)\n    chk = polymodStep(chk) ^ (v & 0x1f)\n  }\n  return chk\n}\n\nfunction encode (prefix, words, LIMIT) {\n  LIMIT = LIMIT || 90\n  if ((prefix.length + 7 + words.length) > LIMIT) throw new TypeError('Exceeds length limit')\n\n  prefix = prefix.toLowerCase()\n\n  // determine chk mod\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') throw new Error(chk)\n\n  var result = prefix + '1'\n  for (var i = 0; i < words.length; ++i) {\n    var x = words[i]\n    if ((x >> 5) !== 0) throw new Error('Non 5-bit word')\n\n    chk = polymodStep(chk) ^ x\n    result += ALPHABET.charAt(x)\n  }\n\n  for (i = 0; i < 6; ++i) {\n    chk = polymodStep(chk)\n  }\n  chk ^= 1\n\n  for (i = 0; i < 6; ++i) {\n    var v = (chk >> ((5 - i) * 5)) & 0x1f\n    result += ALPHABET.charAt(v)\n  }\n\n  return result\n}\n\nfunction __decode (str, LIMIT) {\n  LIMIT = LIMIT || 90\n  if (str.length < 8) return str + ' too short'\n  if (str.length > LIMIT) return 'Exceeds length limit'\n\n  // don't allow mixed case\n  var lowered = str.toLowerCase()\n  var uppered = str.toUpperCase()\n  if (str !== lowered && str !== uppered) return 'Mixed-case string ' + str\n  str = lowered\n\n  var split = str.lastIndexOf('1')\n  if (split === -1) return 'No separator character for ' + str\n  if (split === 0) return 'Missing prefix for ' + str\n\n  var prefix = str.slice(0, split)\n  var wordChars = str.slice(split + 1)\n  if (wordChars.length < 6) return 'Data too short'\n\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') return chk\n\n  var words = []\n  for (var i = 0; i < wordChars.length; ++i) {\n    var c = wordChars.charAt(i)\n    var v = ALPHABET_MAP[c]\n    if (v === undefined) return 'Unknown character ' + c\n    chk = polymodStep(chk) ^ v\n\n    // not in the checksum?\n    if (i + 6 >= wordChars.length) continue\n    words.push(v)\n  }\n\n  if (chk !== 1) return 'Invalid checksum for ' + str\n  return { prefix: prefix, words: words }\n}\n\nfunction decodeUnsafe () {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n}\n\nfunction decode (str) {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n\n  throw new Error(res)\n}\n\nfunction convert (data, inBits, outBits, pad) {\n  var value = 0\n  var bits = 0\n  var maxV = (1 << outBits) - 1\n\n  var result = []\n  for (var i = 0; i < data.length; ++i) {\n    value = (value << inBits) | data[i]\n    bits += inBits\n\n    while (bits >= outBits) {\n      bits -= outBits\n      result.push((value >> bits) & maxV)\n    }\n  }\n\n  if (pad) {\n    if (bits > 0) {\n      result.push((value << (outBits - bits)) & maxV)\n    }\n  } else {\n    if (bits >= inBits) return 'Excess padding'\n    if ((value << (outBits - bits)) & maxV) return 'Non-zero padding'\n  }\n\n  return result\n}\n\nfunction toWordsUnsafe (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n}\n\nfunction toWords (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nfunction fromWordsUnsafe (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n}\n\nfunction fromWords (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nmodule.exports = {\n  decodeUnsafe: decodeUnsafe,\n  decode: decode,\n  encode: encode,\n  toWordsUnsafe: toWordsUnsafe,\n  toWords: toWords,\n  fromWordsUnsafe: fromWordsUnsafe,\n  fromWords: fromWords\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport web3 from 'web3';\nimport { Modal } from 'antd';\n\nimport Form from '../form';\nimport { celrFieldOptions } from '../../utils/form';\n\nclass DelegateForm extends React.Component {\n  constructor(props, context) {\n    super(props);\n\n    this.form = React.createRef();\n    this.contracts = context.drizzle.contracts;\n  }\n\n  onSubmit = () => {\n    const { onClose, candidateId } = this.props;\n\n    this.form.current.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n\n      const { value } = values;\n\n      this.contracts.DPoS.methods.delegate.cacheSend(\n        candidateId,\n        web3.utils.toWei(value.toString(), 'ether')\n      );\n\n      onClose();\n    });\n  };\n\n  render() {\n    const { visible, onClose } = this.props;\n    const formItems = [\n      {\n        name: 'value',\n        field: 'number',\n        fieldOptions: {\n          ...celrFieldOptions,\n          placeholder: 'The amount of CELR to delegate'\n        },\n        rules: [\n          {\n            message: 'Please enter a value!',\n            required: true\n          }\n        ]\n      }\n    ];\n\n    return (\n      <Modal\n        title=\"Delegate Stake\"\n        visible={visible}\n        onOk={this.onSubmit}\n        onCancel={onClose}\n      >\n        <Form ref={this.form} items={formItems} />\n      </Modal>\n    );\n  }\n}\n\nDelegateForm.propTypes = {\n  visible: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nDelegateForm.contextTypes = {\n  drizzle: PropTypes.object\n};\n\nexport default DelegateForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport web3 from 'web3';\nimport { Modal } from 'antd';\n\nimport Form from '../form';\nimport { celrFieldOptions } from '../../utils/form';\n\nclass WithdrawForm extends React.Component {\n    constructor(props, context) {\n        super(props);\n\n        this.form = React.createRef();\n        this.contracts = context.drizzle.contracts;\n    }\n\n    onSubmit = () => {\n        const { onClose, candidate } = this.props;\n        const candidateAddr = candidate.args[0];\n\n        this.form.current.validateFields((err, values) => {\n            if (err) {\n                return;\n            }\n\n            const { value } = values;\n\n            if (candidate.value.status === '0') {\n                this.contracts.DPoS.methods.withdrawFromUnbondedCandidate.cacheSend(\n                    candidateAddr,\n                    web3.utils.toWei(value.toString(), 'ether')\n                );\n            } else {\n                this.contracts.DPoS.methods.intendWithdraw.cacheSend(\n                    candidateAddr,\n                    web3.utils.toWei(value.toString(), 'ether')\n                );\n            }\n\n            onClose();\n        });\n    };\n\n    render() {\n        const { visible, onClose } = this.props;\n        const formItems = [\n            {\n                name: 'value',\n                field: 'number',\n                fieldOptions: {\n                    ...celrFieldOptions,\n                    placeholder: 'The amount of CELR to withdraw'\n                },\n                rules: [\n                    {\n                        message: 'Please enter a value!',\n                        required: true\n                    }\n                ]\n            }\n        ];\n\n        return (\n            <Modal\n                title=\"Withdraw Stake\"\n                visible={visible}\n                onOk={this.onSubmit}\n                onCancel={onClose}\n            >\n                <Form ref={this.form} items={formItems} />\n            </Modal>\n        );\n    }\n}\n\nWithdrawForm.propTypes = {\n    visible: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n};\n\nWithdrawForm.contextTypes = {\n    drizzle: PropTypes.object\n};\n\nexport default WithdrawForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { Modal } from 'antd';\nimport { drizzleConnect } from 'drizzle-react';\n\nimport Form from '../form';\nimport { commissionRateField, rateLockEndTimeField } from '../../utils/form';\nimport { RATE_BASE } from '../../utils/constant';\n\nclass CommissionForm extends React.Component {\n    constructor(props, context) {\n        super(props);\n\n        this.state = {};\n        this.form = React.createRef();\n        this.contracts = context.drizzle.contracts;\n    }\n\n    handleIncreaseCommission = () => {\n        const { onClose, network, candidate } = this.props;\n\n        this.form.current.validateFields((err, values) => {\n            if (err) {\n                console.log(err);\n                return;\n            }\n\n            let { commissionRate, rateLockEndTime } = values;\n            commissionRate = commissionRate * RATE_BASE;\n            rateLockEndTime =\n                _.toNumber(rateLockEndTime) + network.block.number;\n\n            if (commissionRate > candidate.value.commissionRate) {\n                this.contracts.DPoS.methods.announceIncreaseCommissionRate.cacheSend(\n                    commissionRate,\n                    rateLockEndTime\n                );\n            } else {\n                this.contracts.DPoS.methods.nonIncreaseCommissionRate.cacheSend(\n                    commissionRate,\n                    rateLockEndTime\n                );\n            }\n            onClose();\n        });\n    };\n\n    render() {\n        const { visible, onClose } = this.props;\n\n        const formItems = [commissionRateField, rateLockEndTimeField];\n\n        return (\n            <Modal\n                title=\"Increase Commission Rate\"\n                visible={visible}\n                onOk={this.handleIncreaseCommission}\n                onCancel={onClose}\n            >\n                <Form ref={this.form} items={formItems} />\n            </Modal>\n        );\n    }\n}\n\nCommissionForm.propTypes = {\n    visible: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n};\n\nCommissionForm.contextTypes = {\n    drizzle: PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n    const { network } = state;\n\n    return {\n        network\n    };\n}\n\nexport default drizzleConnect(CommissionForm, mapStateToProps);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { drizzleConnect } from 'drizzle-react';\nimport { Statistic, Row, Col, message, Table } from 'antd';\nimport axios from 'axios';\nimport web3 from 'web3';\n\nimport { formatCelrValue } from '../../utils/unit';\n\nconst columns = [\n  {\n    title: 'Delegator',\n    dataIndex: 'delegatorAddr'\n  },\n  {\n    title: 'Delegated Stake',\n    dataIndex: 'delegatedStake',\n    sorter: (a, b) => {\n      return web3.utils.toBN(a.delegatedStake).cmp(web3.utils.toBN(b.delegatedStake));\n    },\n    sortOrder: 'descend',\n    render: text => {\n      return formatCelrValue(text);\n    }\n  }\n];\n\nclass SidechainInfo extends React.Component {\n  constructor(props, context) {\n    super(props);\n\n    const {\n      candidateId,\n      network: { setting }\n    } = props;\n    this.state = {};\n\n    axios\n      .get(`${setting.gateway}/validator/candidate/${candidateId}`)\n      .then(res => {\n        const { result } = res.data;\n\n        this.setState({\n          ...result,\n          commissionRate: result.commission_rate,\n          stakingPool: result.staking_pool\n        });\n      })\n      .catch(err => {\n        console.error(err);\n\n        if (err.response) {\n          message.error(err.response.data.error);\n          return;\n        }\n\n        message.warning('Please config gateway url in setting to load sidechain info correctly');\n      });\n\n    axios\n      .get(`${setting.gateway}/validator/candidate-delegators/${candidateId}`)\n      .then(res => {\n        const delegators = res.data.result.map(delegator => ({\n          candidateAddr: delegator.candidate_addr,\n          delegatedStake: delegator.delegated_stake,\n          delegatorAddr: delegator.delegator_addr\n        }));\n        this.setState({\n          delegators\n        });\n      })\n      .catch(err => {\n        console.error(err);\n\n        if (err.response) {\n          message.error(err.response.data.error);\n          return;\n        }\n\n        message.warning('Please config gateway url in setting to load sidechain info correctly');\n      });\n  }\n\n  render() {\n    const { commissionRate, stakingPool, delegators, description = {} } = this.state;\n    return (\n      <Row>\n        <Col span={12}>\n          <Statistic title=\"Commission Rate\" value={`${commissionRate * 100} %`} />\n        </Col>\n        <Col span={12}>\n          <Statistic title=\"Staking Pool\" value={formatCelrValue(stakingPool)} />\n        </Col>\n        <Col span={12}>\n          <Statistic title=\"Website\" value={description.website || 'N/A'} />\n        </Col>\n        <Col span={12}>\n          <Statistic title=\"Contact\" value={description.security_contact || 'N/A'} />\n        </Col>\n\n        <Col span={24}>\n          <Table dataSource={delegators} columns={columns} pagination={false} />\n        </Col>\n      </Row>\n    );\n  }\n}\n\nSidechainInfo.propTypes = {};\n\nSidechainInfo.contextTypes = {\n  drizzle: PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n  const { network } = state;\n\n  return {\n    network\n  };\n}\n\nexport default drizzleConnect(SidechainInfo, mapStateToProps);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { drizzleConnect } from 'drizzle-react';\nimport { Table } from 'antd';\n\nimport { formatCelrValue } from '../../utils/unit';\n\nconst columns = [\n    {\n        title: 'Delegator',\n        dataIndex: 'delegator'\n    },\n    {\n        title: 'Amount',\n        dataIndex: 'amount'\n    }\n];\n\nclass SlashTable extends React.Component {\n    render() {\n        const { slashes } = this.props;\n\n        const dataSource = slashes\n            .sort((slash0, slash1) => {\n                return slash0.validator > slash1.validator;\n            })\n            .map(slash => ({\n                ...slash,\n                amount: formatCelrValue(slash.amount)\n            }));\n\n        console.log(slashes);\n        return (\n            <Table\n                dataSource={dataSource}\n                columns={columns}\n                pagination={false}\n            />\n        );\n    }\n}\n\nSlashTable.propTypes = {\n    slashes: PropTypes.array.isRequired\n};\n\nfunction mapStateToProps(state) {\n    return {};\n}\n\nexport default drizzleConnect(SlashTable, mapStateToProps);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { drizzleConnect } from 'drizzle-react';\nimport bech32 from 'bech32';\nimport web3 from 'web3';\nimport {\n  Card,\n  Skeleton,\n  Statistic,\n  Row,\n  Col,\n  Menu,\n  Dropdown,\n  Icon,\n  Tabs\n} from 'antd';\n\nimport DelegateForm from '../components/candidate/delegate-form';\nimport WithdrawForm from '../components/candidate/withdraw-form';\nimport CommissionForm from '../components/candidate/commission-form';\nimport SidechainInfo from '../components/candidate/sidechain-info';\nimport SlashTable from '../components/candidate/slash-table';\nimport { formatCelrValue } from '../utils/unit';\nimport { CANDIDATE_STATUS } from '../utils/dpos';\nimport { RATE_BASE } from '../utils/constant';\n\nclass Candidate extends React.Component {\n  constructor(props, context) {\n    super(props);\n\n    this.contracts = context.drizzle.contracts;\n    this.state = {\n      candidate: null,\n      slashes: [],\n      isDelegateModalVisible: false,\n      isWithdrawModalVisible: false,\n      isCommissionModalVisible: false\n    };\n\n    const candidateId = props.match.params.id;\n    this.contracts.SGN.methods.sidechainAddrMap.cacheCall(candidateId);\n    // this.contracts.DPoS.events.Delegate(\n    //   {\n    //     fromBlock: 0,\n    //     filter: { candidate: candidateId }\n    //   },\n    //   (err, event) => {\n    //     if (err) {\n    //       return;\n    //     }\n\n    //     const { delegator, candidate } = event.returnValues;\n    //     this.contracts.DPoS.methods.getDelegatorInfo.cacheCall(\n    //       candidate,\n    //       delegator\n    //     );\n    //   }\n    // );\n\n    this.contracts.DPoS.events.Slash(\n      {\n        fromBlock: 0,\n        filter: { validator: candidateId }\n      },\n      (err, event) => {\n        if (err) {\n          return;\n        }\n\n        this.setState({\n          slashes: [...this.state.slashes, event.returnValues]\n        });\n      }\n    );\n  }\n\n  static getDerivedStateFromProps(props) {\n    const { match, DPoS = {} } = props;\n    const candidateId = match.params.id;\n    const candidates = _.values(DPoS.getCandidateInfo);\n    const candidate = _.find(\n      candidates,\n      candidate => candidate.args[0] === candidateId\n    );\n    const delegators = _.values(DPoS.getDelegatorInfo).filter(\n      delegator => delegator.args[0] === candidateId\n    );\n\n    return { candidate, candidateId, delegators };\n  }\n\n  toggleDelegateModal = () => {\n    this.setState(prevState => ({\n      isDelegateModalVisible: !prevState.isDelegateModalVisible\n    }));\n  };\n\n  toggleWithdrawModal = () => {\n    this.setState(prevState => ({\n      isWithdrawModalVisible: !prevState.isWithdrawModalVisible\n    }));\n  };\n\n  toggleCommissionModal = () => {\n    this.setState(prevState => ({\n      isCommissionModalVisible: !prevState.isCommissionModalVisible\n    }));\n  };\n\n  confirmWithdraw = () => {\n    const { candidateId } = this.state;\n\n    this.contracts.DPoS.methods.confirmWithdraw.cacheSend(candidateId);\n  };\n\n  confirmIncreaseCommissionRate = () => {\n    this.contracts.DPoS.methods.confirmIncreaseCommissionRate.cacheSend();\n  };\n\n  claimValidator = () => {\n    this.contracts.DPoS.methods.claimValidator.cacheSend();\n  };\n\n  renderAction = () => {\n    const { accounts } = this.props;\n    const { candidate } = this.state;\n    const { status } = candidate.value;\n    const isOwner = accounts[0] === candidate.args[0];\n    const menu = (\n      <Menu>\n        <Menu.Item onClick={this.toggleDelegateModal}>Delegate</Menu.Item>\n        {status === '0' ? (\n          <Menu.Item onClick={this.toggleWithdrawModal}>Withdraw</Menu.Item>\n        ) : (\n          [\n            <Menu.Item onClick={this.toggleWithdrawModal}>\n              Initialize Withdraw\n            </Menu.Item>,\n            <Menu.Item onClick={this.confirmWithdraw}>\n              Confirm Withdraw\n            </Menu.Item>\n          ]\n        )}\n        {isOwner && (\n          <Menu.Item onClick={this.toggleCommissionModal}>\n            Announce Increase Commission Rate\n          </Menu.Item>\n        )}\n        {isOwner && (\n          <Menu.Item onClick={this.confirmIncreaseCommissionRate}>\n            Confirm Increase Commission Rate\n          </Menu.Item>\n        )}\n        {isOwner && (\n          <Menu.Item onClick={this.claimValidator}>Claim Validator</Menu.Item>\n        )}\n      </Menu>\n    );\n\n    return (\n      <Dropdown overlay={menu}>\n        <a className=\"ant-dropdown-link\">\n          Actions <Icon type=\"down\" />\n        </a>\n      </Dropdown>\n    );\n  };\n\n  renderCandidateDetail = () => {\n    const { SGN } = this.props;\n    const { candidate, slashes } = this.state;\n    const candidateId = candidate.args[0];\n    const {\n      minSelfStake,\n      stakingPool,\n      status,\n      commissionRate,\n      rateLockEndTime\n    } = candidate.value;\n    const sidechainHexAddr = _.chain(SGN.sidechainAddrMap)\n      .find(data => data.args[0] === candidateId)\n      .get('value', '')\n      .value();\n    const sidechainAddr =\n      sidechainHexAddr &&\n      bech32.encode(\n        'sgn',\n        bech32.toWords(web3.utils.hexToBytes(sidechainHexAddr))\n      );\n\n    return (\n      <Row style={{ marginTop: '10px' }}>\n        <Col span={12}>\n          <Statistic title=\"Address\" value={candidateId} />\n        </Col>\n        <Col span={12}>\n          <Statistic title=\"Status\" value={CANDIDATE_STATUS[status]} />\n        </Col>\n        <Col span={12}>\n          <Statistic\n            title=\"Min Self Stake\"\n            value={formatCelrValue(minSelfStake)}\n          />\n        </Col>\n        <Col span={12}>\n          <Statistic\n            title=\"Staking Pool\"\n            value={formatCelrValue(stakingPool)}\n          />\n        </Col>\n        <Col span={12}>\n          <Statistic\n            title=\"Commission Rate\"\n            value={`${commissionRate / RATE_BASE} %`}\n          />\n        </Col>\n        <Col span={12}>\n          <Statistic\n            title=\"Rate Lock End Time\"\n            value={`${rateLockEndTime} block height`}\n          />\n        </Col>\n        <Col span={12}>\n          <Statistic title=\"Sidechain Address\" value={sidechainAddr} />\n        </Col>\n        <Col span={24}>\n          <Tabs>\n            <Tabs.TabPane tab=\"Sidechain\" key=\"sidechain\">\n              <SidechainInfo candidateId={candidateId} />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Slashes\" key=\"slashes\">\n              <SlashTable slashes={slashes} />\n            </Tabs.TabPane>\n          </Tabs>\n        </Col>\n      </Row>\n    );\n  };\n\n  render() {\n    const {\n      candidate,\n      candidateId,\n      isDelegateModalVisible,\n      isWithdrawModalVisible,\n      isCommissionModalVisible\n    } = this.state;\n\n    if (!candidate) {\n      return <Skeleton />;\n    }\n\n    return (\n      <Card title=\"Candidate\" extra={this.renderAction()}>\n        {this.renderCandidateDetail()}\n        <DelegateForm\n          candidateId={candidateId}\n          visible={isDelegateModalVisible}\n          onClose={this.toggleDelegateModal}\n        />\n        <WithdrawForm\n          candidate={candidate}\n          visible={isWithdrawModalVisible}\n          onClose={this.toggleWithdrawModal}\n        />\n        <CommissionForm\n          candidate={candidate}\n          visible={isCommissionModalVisible}\n          onClose={this.toggleCommissionModal}\n        />\n      </Card>\n    );\n  }\n}\n\nCandidate.propTypes = {\n  dispatch: PropTypes.func.isRequired\n};\n\nCandidate.contextTypes = {\n  drizzle: PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n  const { accounts, contracts, DPoS, SGN } = state;\n  return {\n    accounts,\n    DPoS: { ...DPoS, ...contracts.DPoS },\n    SGN: { ...SGN, ...contracts.SGN }\n  };\n}\n\nexport default drizzleConnect(Candidate, mapStateToProps);\n"],"sourceRoot":""}